

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>modules.table2 package &mdash; src  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="modules.table3 package" href="modules.table3.html" />
    <link rel="prev" title="modules.table1 package" href="modules.table1.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> src
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="lib.html">lib package</a></li>
<li class="toctree-l1"><a class="reference internal" href="logs.html">logs package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">modules package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="modules.celeryCheck.html">modules.celeryCheck package</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.fig1.html">modules.fig1 package</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.reportWriter.html">modules.reportWriter package</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.table1.html">modules.table1 package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">modules.table2 package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-modules.table2.queryDB">modules.table2.queryDB module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-modules.table2.table2">modules.table2.table2 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-modules.table2">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="modules.table3.html">modules.table3 package</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.table4.html">modules.table4 package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#module-modules">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="paper1.html">paper1 module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">src</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">modules package</a> &raquo;</li>
        
      <li>modules.table2 package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/modules.table2.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="modules-table2-package">
<h1>modules.table2 package<a class="headerlink" href="#modules-table2-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-modules.table2.queryDB">
<span id="modules-table2-querydb-module"></span><h2>modules.table2.queryDB module<a class="headerlink" href="#module-modules.table2.queryDB" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="modules.table2.queryDB.ageBinnedCategorisedSUD">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">ageBinnedCategorisedSUD</code><span class="sig-paren">(</span><em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/queryDB.html#ageBinnedCategorisedSUD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.queryDB.ageBinnedCategorisedSUD" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds percentage of the age-binned sample that has
SUD of a particular substance</p>
<dl class="simple">
<dt>Decorators:</dt><dd><p>lD.log</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>{</strong><strong>[</strong><strong>type</strong><strong>]</strong><strong>} --</strong><strong> [</strong><strong>description</strong><strong>]</strong> (<em>logger</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[type] – [description]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="modules.table2.queryDB.ageBinnedGeneralSUD">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">ageBinnedGeneralSUD</code><span class="sig-paren">(</span><em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/queryDB.html#ageBinnedGeneralSUD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.queryDB.ageBinnedGeneralSUD" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds percentage of the age-binned sample that has any SUD and more than 2 SUD</p>
<dl class="simple">
<dt>Decorators:</dt><dd><p>lD.log</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>{</strong><strong>[</strong><strong>type</strong><strong>]</strong><strong>} --</strong><strong> [</strong><strong>description</strong><strong>]</strong> (<em>logger</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[type] – [description]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="modules.table2.queryDB.allAgesCategorisedSUD">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">allAgesCategorisedSUD</code><span class="sig-paren">(</span><em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/queryDB.html#allAgesCategorisedSUD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.queryDB.allAgesCategorisedSUD" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds percentage of the age-binned sample that have
SUD of a particular substance</p>
<dl class="simple">
<dt>Decorators:</dt><dd><p>lD.log</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>{</strong><strong>[</strong><strong>type</strong><strong>]</strong><strong>} --</strong><strong> [</strong><strong>description</strong><strong>]</strong> (<em>logger</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[type] – [description]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="modules.table2.queryDB.allAgesGeneralSUD">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">allAgesGeneralSUD</code><span class="sig-paren">(</span><em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/queryDB.html#allAgesGeneralSUD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.queryDB.allAgesGeneralSUD" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds percentage of the total sample that has any SUD and more than 2 SUD</p>
<dl class="simple">
<dt>Decorators:</dt><dd><p>lD.log</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>{</strong><strong>[</strong><strong>type</strong><strong>]</strong><strong>} --</strong><strong> [</strong><strong>description</strong><strong>]</strong> (<em>logger</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[type] – [description]</p>
</dd>
</dl>
</dd></dl>

<dl class="data">
<dt id="modules.table2.queryDB.config">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">config</code><em class="property"> = {'logging': {'level': 'INFO', 'logBase': 'paper1', 'specs': {'file': {'logFolder': 'logs', 'todo': True}, 'logstash': {'host': 'localhost', 'port': 5959, 'tags': [], 'todo': False, 'version': 1}, 'stdout': {'todo': False}}}}</em><a class="headerlink" href="#modules.table2.queryDB.config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="modules.table2.queryDB.createTest4Table">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">createTest4Table</code><span class="sig-paren">(</span><em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/queryDB.html#createTest4Table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.queryDB.createTest4Table" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates test4</p>
<p>This function creates the table sarah.test4, which contains boolean columns
for each mental disorder.</p>
<dl class="simple">
<dt>Decorators:</dt><dd><p>lD.log</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>{</strong><strong>[</strong><strong>type</strong><strong>]</strong><strong>} --</strong><strong> [</strong><strong>description</strong><strong>]</strong> (<em>logger</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="modules.table2.queryDB.divByAgeBins">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">divByAgeBins</code><span class="sig-paren">(</span><em class="sig-param">logger</em>, <em class="sig-param">lol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/queryDB.html#divByAgeBins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.queryDB.divByAgeBins" title="Permalink to this definition">¶</a></dt>
<dd><p>Divide by no. of people of each race in a certain age bin</p>
<p>This function takes in a list of lists called lol, where lol[0] is the list of AAs, lol[0][0] is for ages 1-11 and lol[0][1] is for ages 12-17 and so forth</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>{</strong><strong>[</strong><strong>type</strong><strong>]</strong><strong>} --</strong><strong> [</strong><strong>description</strong><strong>]</strong> (<em>logger</em>) – </p></li>
<li><p><strong>{list of lists} --</strong><strong> [</strong><strong>description</strong><strong>]</strong> (<em>lol</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="modules.table2.queryDB.divByAllAges">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">divByAllAges</code><span class="sig-paren">(</span><em class="sig-param">logger</em>, <em class="sig-param">l</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/queryDB.html#divByAllAges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.queryDB.divByAllAges" title="Permalink to this definition">¶</a></dt>
<dd><p>Divides by total sample of each race</p>
<p>This function takes in a list of counts and returns a list (of similar structure)
with the percentage of the counts over the total</p>
<dl class="simple">
<dt>Decorators:</dt><dd><p>lD.log</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>{</strong><strong>[</strong><strong>type</strong><strong>]</strong><strong>} --</strong><strong> [</strong><strong>description</strong><strong>]</strong> (<em>logger</em>) – </p></li>
<li><p><strong>{list} -- l</strong><strong>[</strong><strong>0</strong><strong>] </strong><strong>is the no. of AA</strong><strong> , </strong><strong>l</strong><strong>[</strong><strong>1</strong><strong>] </strong><strong>is the no. of NHPI</strong><strong>, </strong><strong>l</strong><strong>[</strong><strong>2</strong><strong>] </strong><strong>is the no. of MR</strong> (<em>l</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="modules.table2.queryDB.genSUDUserKeys">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">genSUDUserKeys</code><span class="sig-paren">(</span><em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/queryDB.html#genSUDUserKeys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.queryDB.genSUDUserKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>This function generates a .csv file for each SUD user’s (siteid, backgroundid)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>logger</strong> (<em>{logging.Logger}</em>) – The logger used for logging error information</p>
</dd>
</dl>
</dd></dl>

<dl class="data">
<dt id="modules.table2.queryDB.logBase">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">logBase</code><em class="property"> = 'paper1.modules.table2.table2'</em><a class="headerlink" href="#modules.table2.queryDB.logBase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="modules.table2.queryDB.popTest4">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">popTest4</code><span class="sig-paren">(</span><em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/queryDB.html#popTest4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.queryDB.popTest4" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates test4</p>
<p>This function populates the table sarah.test4, which contains boolean columns
for each mental disorder. If a user’s row has True for that column, it means
that he/she has that disorder, and vice versa.</p>
<dl class="simple">
<dt>Decorators:</dt><dd><p>lD.log</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>{</strong><strong>[</strong><strong>type</strong><strong>]</strong><strong>} --</strong><strong> [</strong><strong>description</strong><strong>]</strong> (<em>logger</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="data">
<dt id="modules.table2.queryDB.table2_config">
<code class="sig-prename descclassname">modules.table2.queryDB.</code><code class="sig-name descname">table2_config</code><em class="property"> = {'inputs': {'races': ['AA', 'NHPI', 'MR']}, 'outputs': {}, 'params': {'sudcats': {'alc': ['305.00', '305.01', '305.02', '305.03', '303.00', '303.01', '303.02', '303.03', '303.90', '303.91', '303.92', '303.93', 'F10.10', 'F10.11', 'F10.12', 'F10.12', 'F10.12', 'F10.14', 'F10.15', 'F10.15', 'F10.15', 'F10.18', 'F10.18', 'F10.18', 'F10.18', 'F10.19', 'F10.20', 'F10.21', 'F10.22', 'F10.22', 'F10.22', 'F10.23', 'F10.23', 'F10.23', 'F10.23', 'F10.24', 'F10.25', 'F10.25', 'F10.25', 'F10.26', 'F10.27', 'F10.28', 'F10.28', 'F10.28', 'F10.28', 'F10.29', 'F10.92', 'F10.92', 'F10.92', 'F10.94', 'F10.95', 'F10.95', 'F10.95', 'F10.96', 'F10.97', 'F10.98', 'F10.98', 'F10.98', 'F10.98', 'F10.99', '291.1', '291.2', '291.3', '291.4', '291.5', '291.81', '291.82', '291.89', '291.9'], 'amphe': ['304.40', '304.41', '304.42', '304.43', '305.70', '305.71', '305.72', '305.73', 'F15.20', 'F15.21', 'F15.10', 'F15.11'], 'cannabis': ['304.30', '304.31', '304.32', '304.33', '305.20', '305.21', '305.22', '305.23', 'F12.10', 'F12.11', 'F12.120', 'F12.121', 'F12.122', 'F12.129', 'F12.150', 'F12.151', 'F12.159', 'F12.180', 'F12.188', 'F12.19', 'F12.20', 'F12.21', 'F12.220', 'F12.221', 'F12.222', 'F12.229', 'F12.23', 'F12.250', 'F12.251', 'F12.259', 'F12.280', 'F12.288', 'F12.29', 'F12.90', 'F12.920', 'F12.921', 'F12.922', 'F12.929', 'F12.93', 'F12.950', 'F12.951', 'F12.959', 'F12.980', 'F12.988', 'F12.99'], 'cocaine': ['304.20', '304.21', '304.22', '304.23', '305.60', '305.61', '305.62', '305.63', 'F14.10', 'F14.11', 'F14.120', 'F14.121', 'F14.122', 'F14.129', 'F14.14', 'F14.150', 'F14.151', 'F14.159', 'F14.180', 'F14.181', 'F14.182', 'F14.188', 'F14.19', 'F14.20', 'F14.21', 'F14.220', 'F14.221', 'F14.222', 'F14.229', 'F14.23', 'F14.24', 'F14.250', 'F14.251', 'F14.259', 'F14.280', 'F14.281', 'F14.282', 'F14.288', 'F14.29', 'F14.90', 'F14.920', 'F14.921', 'F14.922', 'F14.929', 'F14.94', 'F14.950', 'F14.951', 'F14.959', 'F14.980', 'F14.981', 'F14.982', 'F14.988', 'F14.99'], 'halluc': ['304.50', '304.51', '304.52', '304.53', '305.30', '305.31', '305.32', '305.33', 'F16.10', 'F16.11', 'F16.120', 'F16.121', 'F16.122', 'F16.129', 'F16.14', 'F16.150', 'F16.151', 'F16.159', 'F16.180', 'F16.183', 'F16.188', 'F16.19', 'F16.20', 'F16.21', 'F16.220', 'F16.221', 'F16.229', 'F16.24', 'F16.250', 'F16.251', 'F16.259', 'F16.280', 'F16.283', 'F16.288', 'F16.29', 'F16.90', 'F16.920', 'F16.921', 'F16.929', 'F16.94', 'F16.950', 'F16.951', 'F16.959', 'F16.980', 'F16.983', 'F16.988', 'F16.99'], 'inhalant': ['305.90', '305.91', '305.92', '305.93', 'F18.10', 'F18.11', 'F18.120', 'F18.121', 'F18.129', 'F18.14', 'F18.150', 'F18.151', 'F18.159', 'F18.17', 'F18.180', 'F18.188', 'F18.19', 'F18.20', 'F18.21', 'F18.220', 'F18.221', 'F18.229', 'F18.24', 'F18.250', 'F18.251', 'F18.259', 'F18.27', 'F18.280', 'F18.288', 'F18.29', 'F18.90', 'F18.920', 'F18.921', 'F18.929', 'F18.94', 'F18.950', 'F18.951', 'F18.959', 'F18.97', 'F18.980', 'F18.988', 'F18.99'], 'nicotin': ['305.1', 'F17.200', 'F17.201', 'F17.203', 'F17.208', 'F17.209', 'F17.210', 'F17.211', 'F17.213', 'F17.218', 'F17.219', 'F17.220', 'F17.221', 'F17.223', 'F17.228', 'F17.229', 'F17.290', 'F17.291', 'F17.293', 'F17.298', 'F17.299'], 'opioids': ['304.00', '304.01', '304.02', '304.03', '305.50', '305.51', '305.52', '305.53', 'F11.10', 'F11.11', 'F11.120', 'F11.121', 'F11.122', 'F11.129', 'F11.14', 'F11.150', 'F11.151', 'F11.159', 'F11.181', 'F11.182', 'F11.188', 'F11.19', 'F11.20', 'F11.21', 'F11.220', 'F11.221', 'F11.222', 'F11.229', 'F11.23', 'F11.24', 'F11.250', 'F11.251', 'F11.259', 'F11.281', 'F11.282', 'F11.288', 'F11.29', 'F11.90', 'F11.920', 'F11.921', 'F11.922', 'F11.929', 'F11.93', 'F11.94', 'F11.950', 'F11.951', 'F11.959', 'F11.981', 'F11.982', 'F11.988', 'F11.99'], 'others': ['304.60', '304.61', '304.62', '304.63', '305.80', '305.81', '305.82', '305.83', 'F19.10', 'F19.11', 'F19.120', 'F19.121', 'F19.122', 'F19.129', 'F19.14', 'F19.150', 'F19.151', 'F19.159', 'F19.16', 'F19.17', 'F19.180', 'F19.181', 'F19.182', 'F19.188', 'F19.19', 'F19.20', 'F19.21', 'F19.220', 'F19.221', 'F19.222', 'F19.229', 'F19.230', 'F19.231', 'F19.232', 'F19.239', 'F19.24', 'F19.250', 'F19.251', 'F19.259', 'F19.26', 'F19.27', 'F19.280', 'F19.281', 'F19.282', 'F19.288', 'F19.29', 'F19.90', 'F19.920', 'F19.921', 'F19.922', 'F19.929', 'F19.930', 'F19.931', 'F19.932', 'F19.939', 'F19.94', 'F19.950', 'F19.951', 'F19.959', 'F19.96', 'F19.97', 'F19.980', 'F19.981', 'F19.982', 'F19.988', 'F19.99', '304.90', '304.91', '304.92', '304.93'], 'polysub': ['304.7', '304.71', '304.72', '304.73', '304.8', '304.81', '304.82', '304.83'], 'sedate': ['304.10', '304.11', '304.12', '304.13', '305.40', '305.41', '305.42', '305.43', 'F13.10', 'F13.11', 'F13.120', 'F13.121', 'F13.129', 'F13.14', 'F13.150', 'F13.151', 'F13.159', 'F13.180', 'F13.181', 'F13.182', 'F13.188', 'F13.19', 'F13.20', 'F13.21', 'F13.220', 'F13.221', 'F13.229', 'F13.230', 'F13.231', 'F13.232', 'F13.239', 'F13.24', 'F13.250', 'F13.251', 'F13.259', 'F13.26', 'F13.27', 'F13.280', 'F13.281', 'F13.282', 'F13.288', 'F13.29', 'F13.90', 'F13.920', 'F13.921', 'F13.929', 'F13.930', 'F13.931', 'F13.932', 'F13.939', 'F13.94', 'F13.950', 'F13.951', 'F13.959', 'F13.96', 'F13.97', 'F13.980', 'F13.981', 'F13.982', 'F13.988', 'F13.99']}}}</em><a class="headerlink" href="#modules.table2.queryDB.table2_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-modules.table2.table2">
<span id="modules-table2-table2-module"></span><h2>modules.table2.table2 module<a class="headerlink" href="#module-modules.table2.table2" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="modules.table2.table2.config">
<code class="sig-prename descclassname">modules.table2.table2.</code><code class="sig-name descname">config</code><em class="property"> = {'logging': {'level': 'INFO', 'logBase': 'paper1', 'specs': {'file': {'logFolder': 'logs', 'todo': True}, 'logstash': {'host': 'localhost', 'port': 5959, 'tags': [], 'todo': False, 'version': 1}, 'stdout': {'todo': False}}}}</em><a class="headerlink" href="#modules.table2.table2.config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="data">
<dt id="modules.table2.table2.logBase">
<code class="sig-prename descclassname">modules.table2.table2.</code><code class="sig-name descname">logBase</code><em class="property"> = 'paper1.modules.table2.table2'</em><a class="headerlink" href="#modules.table2.table2.logBase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="modules.table2.table2.main">
<code class="sig-prename descclassname">modules.table2.table2.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">logger</em>, <em class="sig-param">resultsDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modules/table2/table2.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.table2.table2.main" title="Permalink to this definition">¶</a></dt>
<dd><p>main function for module1</p>
<p>This function finishes all the tasks for the
main function. This is a way in which a
particular module is going to be executed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logger</strong> (<em>{logging.Logger}</em>) – The logger used for logging error information</p></li>
<li><p><strong>resultsDict</strong> (<em>{dict}</em>) – A dintionary containing information about the
command line arguments. These can be used for
overwriting command line arguments as needed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="data">
<dt id="modules.table2.table2.table2_config">
<code class="sig-prename descclassname">modules.table2.table2.</code><code class="sig-name descname">table2_config</code><em class="property"> = {'inputs': {'races': ['AA', 'NHPI', 'MR']}, 'outputs': {}, 'params': {'sudcats': {'alc': ['305.00', '305.01', '305.02', '305.03', '303.00', '303.01', '303.02', '303.03', '303.90', '303.91', '303.92', '303.93', 'F10.10', 'F10.11', 'F10.12', 'F10.12', 'F10.12', 'F10.14', 'F10.15', 'F10.15', 'F10.15', 'F10.18', 'F10.18', 'F10.18', 'F10.18', 'F10.19', 'F10.20', 'F10.21', 'F10.22', 'F10.22', 'F10.22', 'F10.23', 'F10.23', 'F10.23', 'F10.23', 'F10.24', 'F10.25', 'F10.25', 'F10.25', 'F10.26', 'F10.27', 'F10.28', 'F10.28', 'F10.28', 'F10.28', 'F10.29', 'F10.92', 'F10.92', 'F10.92', 'F10.94', 'F10.95', 'F10.95', 'F10.95', 'F10.96', 'F10.97', 'F10.98', 'F10.98', 'F10.98', 'F10.98', 'F10.99', '291.1', '291.2', '291.3', '291.4', '291.5', '291.81', '291.82', '291.89', '291.9'], 'amphe': ['304.40', '304.41', '304.42', '304.43', '305.70', '305.71', '305.72', '305.73', 'F15.20', 'F15.21', 'F15.10', 'F15.11'], 'cannabis': ['304.30', '304.31', '304.32', '304.33', '305.20', '305.21', '305.22', '305.23', 'F12.10', 'F12.11', 'F12.120', 'F12.121', 'F12.122', 'F12.129', 'F12.150', 'F12.151', 'F12.159', 'F12.180', 'F12.188', 'F12.19', 'F12.20', 'F12.21', 'F12.220', 'F12.221', 'F12.222', 'F12.229', 'F12.23', 'F12.250', 'F12.251', 'F12.259', 'F12.280', 'F12.288', 'F12.29', 'F12.90', 'F12.920', 'F12.921', 'F12.922', 'F12.929', 'F12.93', 'F12.950', 'F12.951', 'F12.959', 'F12.980', 'F12.988', 'F12.99'], 'cocaine': ['304.20', '304.21', '304.22', '304.23', '305.60', '305.61', '305.62', '305.63', 'F14.10', 'F14.11', 'F14.120', 'F14.121', 'F14.122', 'F14.129', 'F14.14', 'F14.150', 'F14.151', 'F14.159', 'F14.180', 'F14.181', 'F14.182', 'F14.188', 'F14.19', 'F14.20', 'F14.21', 'F14.220', 'F14.221', 'F14.222', 'F14.229', 'F14.23', 'F14.24', 'F14.250', 'F14.251', 'F14.259', 'F14.280', 'F14.281', 'F14.282', 'F14.288', 'F14.29', 'F14.90', 'F14.920', 'F14.921', 'F14.922', 'F14.929', 'F14.94', 'F14.950', 'F14.951', 'F14.959', 'F14.980', 'F14.981', 'F14.982', 'F14.988', 'F14.99'], 'halluc': ['304.50', '304.51', '304.52', '304.53', '305.30', '305.31', '305.32', '305.33', 'F16.10', 'F16.11', 'F16.120', 'F16.121', 'F16.122', 'F16.129', 'F16.14', 'F16.150', 'F16.151', 'F16.159', 'F16.180', 'F16.183', 'F16.188', 'F16.19', 'F16.20', 'F16.21', 'F16.220', 'F16.221', 'F16.229', 'F16.24', 'F16.250', 'F16.251', 'F16.259', 'F16.280', 'F16.283', 'F16.288', 'F16.29', 'F16.90', 'F16.920', 'F16.921', 'F16.929', 'F16.94', 'F16.950', 'F16.951', 'F16.959', 'F16.980', 'F16.983', 'F16.988', 'F16.99'], 'inhalant': ['305.90', '305.91', '305.92', '305.93', 'F18.10', 'F18.11', 'F18.120', 'F18.121', 'F18.129', 'F18.14', 'F18.150', 'F18.151', 'F18.159', 'F18.17', 'F18.180', 'F18.188', 'F18.19', 'F18.20', 'F18.21', 'F18.220', 'F18.221', 'F18.229', 'F18.24', 'F18.250', 'F18.251', 'F18.259', 'F18.27', 'F18.280', 'F18.288', 'F18.29', 'F18.90', 'F18.920', 'F18.921', 'F18.929', 'F18.94', 'F18.950', 'F18.951', 'F18.959', 'F18.97', 'F18.980', 'F18.988', 'F18.99'], 'nicotin': ['305.1', 'F17.200', 'F17.201', 'F17.203', 'F17.208', 'F17.209', 'F17.210', 'F17.211', 'F17.213', 'F17.218', 'F17.219', 'F17.220', 'F17.221', 'F17.223', 'F17.228', 'F17.229', 'F17.290', 'F17.291', 'F17.293', 'F17.298', 'F17.299'], 'opioids': ['304.00', '304.01', '304.02', '304.03', '305.50', '305.51', '305.52', '305.53', 'F11.10', 'F11.11', 'F11.120', 'F11.121', 'F11.122', 'F11.129', 'F11.14', 'F11.150', 'F11.151', 'F11.159', 'F11.181', 'F11.182', 'F11.188', 'F11.19', 'F11.20', 'F11.21', 'F11.220', 'F11.221', 'F11.222', 'F11.229', 'F11.23', 'F11.24', 'F11.250', 'F11.251', 'F11.259', 'F11.281', 'F11.282', 'F11.288', 'F11.29', 'F11.90', 'F11.920', 'F11.921', 'F11.922', 'F11.929', 'F11.93', 'F11.94', 'F11.950', 'F11.951', 'F11.959', 'F11.981', 'F11.982', 'F11.988', 'F11.99'], 'others': ['304.60', '304.61', '304.62', '304.63', '305.80', '305.81', '305.82', '305.83', 'F19.10', 'F19.11', 'F19.120', 'F19.121', 'F19.122', 'F19.129', 'F19.14', 'F19.150', 'F19.151', 'F19.159', 'F19.16', 'F19.17', 'F19.180', 'F19.181', 'F19.182', 'F19.188', 'F19.19', 'F19.20', 'F19.21', 'F19.220', 'F19.221', 'F19.222', 'F19.229', 'F19.230', 'F19.231', 'F19.232', 'F19.239', 'F19.24', 'F19.250', 'F19.251', 'F19.259', 'F19.26', 'F19.27', 'F19.280', 'F19.281', 'F19.282', 'F19.288', 'F19.29', 'F19.90', 'F19.920', 'F19.921', 'F19.922', 'F19.929', 'F19.930', 'F19.931', 'F19.932', 'F19.939', 'F19.94', 'F19.950', 'F19.951', 'F19.959', 'F19.96', 'F19.97', 'F19.980', 'F19.981', 'F19.982', 'F19.988', 'F19.99', '304.90', '304.91', '304.92', '304.93'], 'polysub': ['304.7', '304.71', '304.72', '304.73', '304.8', '304.81', '304.82', '304.83'], 'sedate': ['304.10', '304.11', '304.12', '304.13', '305.40', '305.41', '305.42', '305.43', 'F13.10', 'F13.11', 'F13.120', 'F13.121', 'F13.129', 'F13.14', 'F13.150', 'F13.151', 'F13.159', 'F13.180', 'F13.181', 'F13.182', 'F13.188', 'F13.19', 'F13.20', 'F13.21', 'F13.220', 'F13.221', 'F13.229', 'F13.230', 'F13.231', 'F13.232', 'F13.239', 'F13.24', 'F13.250', 'F13.251', 'F13.259', 'F13.26', 'F13.27', 'F13.280', 'F13.281', 'F13.282', 'F13.288', 'F13.29', 'F13.90', 'F13.920', 'F13.921', 'F13.929', 'F13.930', 'F13.931', 'F13.932', 'F13.939', 'F13.94', 'F13.950', 'F13.951', 'F13.959', 'F13.96', 'F13.97', 'F13.980', 'F13.981', 'F13.982', 'F13.988', 'F13.99']}}}</em><a class="headerlink" href="#modules.table2.table2.table2_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-modules.table2">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-modules.table2" title="Permalink to this headline">¶</a></h2>
<p>This module obtains the data needed to generate Table 2 of the report</p>
<p>This module creates a new table in the database which contains all the SUD users and the specific
substance which they have a disorder for.</p>
<div class="section" id="before-you-begin">
<h3>Before you Begin<a class="headerlink" href="#before-you-begin" title="Permalink to this headline">¶</a></h3>
<p>Make sure that the configuration files are properly set, as mentioned in the Specifcations
section.</p>
<p>Make sure you have the csv file: DSM Numbers. Convert each sheet in the file into json format
by using an online csv -&gt; json converter, then copying the json file into the table1.json config
file under [“params”][“sudcats”].</p>
<p>Make sure that the functions below are un-commented if it is your first time running the code.
.. code-block:: python</p>
<blockquote>
<div><p>queryDB.genSUDUserKeys()
queryDB.createTest4Table()
queryDB.popTest4()</p>
</div></blockquote>
</div>
<div class="section" id="details-of-operation">
<h3>Details of Operation<a class="headerlink" href="#details-of-operation" title="Permalink to this headline">¶</a></h3>
<p>Firstly, the function genSUDUserKeys() from table2.queryDB generates a csv file of of
all the users who have a SUD from sarah.test3. Then, createTest4Table() creates the
table sarah.test4 in the database, and is populated by popTest4().</p>
<p>The count functions:
allAgesGeneralSUD()
allAgesCategorisedSUD()
ageBinnedGeneralSUD()
ageBinnedCategorisedSUD()
then use the data from sarah.test3 and sarah.test4 to generate the required prevalences.</p>
</div>
<div class="section" id="results">
<h3>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h3>
<p>Tables created:
sarah.test4</p>
<p>Files created:
../data/final/allAgesGeneralSUD.json
../data/final/allAgesCategorisedSUD.json
../data/final/ageBinnedGeneralSUD.json
../data/final/ageBinnedCategorisedSUD.json</p>
</div>
<div class="section" id="specifications">
<h3>Specifications:<a class="headerlink" href="#specifications" title="Permalink to this headline">¶</a></h3>
<p>Specifications for running the module is described below. Note that all the json files
unless otherwise specified will be placed in the folder <code class="docutils literal notranslate"><span class="pre">config</span></code> in the main project
folder.</p>
<div class="section" id="specifications-for-the-database">
<h4>Specifications for the database:<a class="headerlink" href="#specifications-for-the-database" title="Permalink to this headline">¶</a></h4>
<p>sarah.test4</p>
</div>
<div class="section" id="specifications-for-modules-json">
<h4>Specifications for <code class="docutils literal notranslate"><span class="pre">modules.json</span></code><a class="headerlink" href="#specifications-for-modules-json" title="Permalink to this headline">¶</a></h4>
<p>Make sure that the <code class="docutils literal notranslate"><span class="pre">execute</span></code> statement within the modules file is set to True.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;moduleName&quot;</span> <span class="p">:</span> <span class="s2">&quot;table2&quot;</span><span class="p">,</span>
<span class="s2">&quot;path&quot;</span>       <span class="p">:</span> <span class="s2">&quot;modules/table2/table2.py&quot;</span><span class="p">,</span>
<span class="hll"><span class="s2">&quot;execute&quot;</span>    <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="s2">&quot;owner&quot;</span>      <span class="p">:</span> <span class="s2">&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="specification-for-table2-json">
<h4>Specification for <code class="docutils literal notranslate"><span class="pre">table2.json</span></code><a class="headerlink" href="#specification-for-table2-json" title="Permalink to this headline">¶</a></h4>
<p>Ensure that the DSM number str values for each mental disorder are specified under
[“params”][“sudcats”].</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules.table3.html" class="btn btn-neutral float-right" title="modules.table3 package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.table1.html" class="btn btn-neutral float-left" title="modules.table1 package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Author

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>